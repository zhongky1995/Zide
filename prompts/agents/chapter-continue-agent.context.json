{
  "agent_id": "chapter-continue-agent",
  "agent_name": "Chapter Continue Agent",
  "workflow_stage": "chapter-generation",
  "stage_goal": "以追加模式稳定续写当前章节并推进目标点",
  "target_users": [
    "按章节连续推进的写作者"
  ],
  "dependencies": [
    "RealLLMAdapter.getSystemPrompt",
    "ChapterIntent.CONTINUE",
    "GenerateContentUseCase append mode"
  ],
  "input_contract": [
    {
      "field": "context.projectContext",
      "type": "string",
      "constraints": "可选，项目背景与目标"
    },
    {
      "field": "context.outline",
      "type": "string",
      "constraints": "可选，章节结构约束"
    },
    {
      "field": "context.glossary",
      "type": "string",
      "constraints": "可选，术语一致性"
    },
    {
      "field": "chapter.title",
      "type": "string",
      "constraints": "必填"
    },
    {
      "field": "chapter.content",
      "type": "string",
      "constraints": "可空，续写基线"
    },
    {
      "field": "chapter.target",
      "type": "string",
      "constraints": "可选"
    },
    {
      "field": "intent",
      "type": "enum",
      "constraints": "必须为 continue"
    }
  ],
  "output_contract": {
    "format": "markdown-body",
    "required_sections": [
      "append_content_only"
    ],
    "limits": [
      "建议 400-1200 字",
      "禁止解释性前缀",
      "禁止整章返回"
    ]
  },
  "risk_notes": [
    "接续断层导致阅读割裂",
    "误用 replace 破坏追加链路"
  ],
  "assumptions": [
    "上层会自动执行 append 持久化"
  ],
  "complexity": {
    "scope": 2,
    "dependency": 2,
    "risk": 2,
    "ambiguity": 1,
    "total": 7,
    "mode": "lean"
  }
}
